{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';console.log('API Base URL:',API_BASE_URL);const api=axios.create({baseURL:API_BASE_URL,timeout:30000,// Increased timeout for NASA API\nheaders:{'Content-Type':'application/json'}});// Request interceptor for logging\napi.interceptors.request.use(config=>{var _config$method;console.log(\"\\uD83D\\uDE80 Making \".concat((_config$method=config.method)===null||_config$method===void 0?void 0:_config$method.toUpperCase(),\" request to \").concat(config.url));console.log('Request config:',config);return config;},error=>{console.error('‚ùå Request error:',error);return Promise.reject(error);});// Response interceptor for error handling\napi.interceptors.response.use(response=>{console.log('‚úÖ API Response received:',response.data);return response;},error=>{var _error$response,_error$response2,_error$response3,_error$config,_error$response4,_error$response5,_error$response6,_error$response7,_error$response7$data;console.error('‚ùå API Error Details:',{status:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,statusText:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.statusText,data:(_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data,url:(_error$config=error.config)===null||_error$config===void 0?void 0:_error$config.url,message:error.message});if(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===429){throw new Error('Rate limit exceeded. Please try again later.');}if(((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.status)>=500){throw new Error('Server error. Please try again later.');}if(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===404){throw new Error('API endpoint not found. Please check the backend server.');}// Return the actual error message from the API\nconst errorMessage=((_error$response7=error.response)===null||_error$response7===void 0?void 0:(_error$response7$data=_error$response7.data)===null||_error$response7$data===void 0?void 0:_error$response7$data.error)||error.message||'Unknown error occurred';throw new Error(errorMessage);});// API methods with detailed logging\nexport const nasaAPI={// APOD endpoints\ngetAPOD:async date=>{console.log('üì° Fetching APOD for date:',date||'today');return api.get('/apod',{params:{date}});},getRandomAPOD:async()=>{console.log('üé≤ Fetching random APOD');return api.get('/apod/random');},// Mars rover endpoints\ngetMarsPhotos:async(rover,sol,page)=>{console.log('üöÄ Fetching Mars photos:',{rover,sol,page});return api.get('/mars/photos',{params:{rover,sol,page}});},// Near Earth Objects\ngetNearEarthObjects:async(startDate,endDate)=>{console.log('‚òÑÔ∏è Fetching NEO data:',{startDate,endDate});return api.get('/neo',{params:{start_date:startDate,end_date:endDate}});},// NASA Library search\nsearchLibrary:async(query,mediaType)=>{console.log('üîç Searching NASA library:',{query,mediaType});return api.get('/search',{params:{q:query,media_type:mediaType}});}};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","console","log","api","create","baseURL","timeout","headers","interceptors","request","use","config","_config$method","concat","method","toUpperCase","url","error","Promise","reject","response","data","_error$response","_error$response2","_error$response3","_error$config","_error$response4","_error$response5","_error$response6","_error$response7","_error$response7$data","status","statusText","message","Error","errorMessage","nasaAPI","getAPOD","date","get","params","getRandomAPOD","getMarsPhotos","rover","sol","page","getNearEarthObjects","startDate","endDate","start_date","end_date","searchLibrary","query","mediaType","q","media_type"],"sources":["/Users/aishikasaha/Documents/nasa-react-express-app/frontend/src/services/api.js"],"sourcesContent":["\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nconsole.log('API Base URL:', API_BASE_URL);\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000, // Increased timeout for NASA API\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor for logging\napi.interceptors.request.use(\n  (config) => {\n    console.log(`üöÄ Making ${config.method?.toUpperCase()} request to ${config.url}`);\n    console.log('Request config:', config);\n    return config;\n  },\n  (error) => {\n    console.error('‚ùå Request error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor for error handling\napi.interceptors.response.use(\n  (response) => {\n    console.log('‚úÖ API Response received:', response.data);\n    return response;\n  },\n  (error) => {\n    console.error('‚ùå API Error Details:', {\n      status: error.response?.status,\n      statusText: error.response?.statusText,\n      data: error.response?.data,\n      url: error.config?.url,\n      message: error.message\n    });\n    \n    if (error.response?.status === 429) {\n      throw new Error('Rate limit exceeded. Please try again later.');\n    }\n    \n    if (error.response?.status >= 500) {\n      throw new Error('Server error. Please try again later.');\n    }\n    \n    if (error.response?.status === 404) {\n      throw new Error('API endpoint not found. Please check the backend server.');\n    }\n    \n    // Return the actual error message from the API\n    const errorMessage = error.response?.data?.error || error.message || 'Unknown error occurred';\n    throw new Error(errorMessage);\n  }\n);\n\n// API methods with detailed logging\nexport const nasaAPI = {\n  // APOD endpoints\n  getAPOD: async (date) => {\n    console.log('üì° Fetching APOD for date:', date || 'today');\n    return api.get('/apod', { params: { date } });\n  },\n  \n  getRandomAPOD: async () => {\n    console.log('üé≤ Fetching random APOD');\n    return api.get('/apod/random');\n  },\n  \n  // Mars rover endpoints\n  getMarsPhotos: async (rover, sol, page) => {\n    console.log('üöÄ Fetching Mars photos:', { rover, sol, page });\n    return api.get('/mars/photos', { params: { rover, sol, page } });\n  },\n  \n  // Near Earth Objects\n  getNearEarthObjects: async (startDate, endDate) => {\n    console.log('‚òÑÔ∏è Fetching NEO data:', { startDate, endDate });\n    return api.get('/neo', { params: { start_date: startDate, end_date: endDate } });\n  },\n  \n  // NASA Library search\n  searchLibrary: async (query, mediaType) => {\n    console.log('üîç Searching NASA library:', { query, mediaType });\n    return api.get('/search', { params: { q: query, media_type: mediaType } });\n  }\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}