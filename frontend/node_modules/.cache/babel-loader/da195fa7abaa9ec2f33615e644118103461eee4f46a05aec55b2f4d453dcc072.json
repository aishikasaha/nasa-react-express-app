{"ast":null,"code":"// Using Hugging Face's inference API\nclass AIService {\n  constructor() {\n    this.HF_API_URL = 'https://api-inference.huggingface.co/models';\n    this.API_TOKEN = process.env.REACT_APP_HF_API_TOKEN;\n    this.isLoading = false;\n  }\n\n  // Image captioning using BLIP model\n  async analyzeImage(imageUrl) {\n    try {\n      var _data$;\n      this.isLoading = true;\n\n      // Check if token exists\n      if (!this.API_TOKEN) {\n        console.warn('No Hugging Face API token found');\n        return 'AI analysis requires API token - please add REACT_APP_HF_API_TOKEN to your .env file';\n      }\n\n      // Convert image URL to blob\n      const response = await fetch(imageUrl);\n      const blob = await response.blob();\n\n      // Send to Hugging Face API\n      const result = await fetch(`${this.HF_API_URL}/Salesforce/blip-image-captioning-large`, {\n        method: 'POST',\n        body: blob,\n        headers: {\n          'Content-Type': 'application/octet-stream',\n          'Authorization': `Bearer ${this.API_TOKEN}`\n        }\n      });\n      if (!result.ok) {\n        throw new Error(`HTTP ${result.status}: ${result.statusText}`);\n      }\n      const data = await result.json();\n      return ((_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.generated_text) || 'Unable to analyze image';\n    } catch (error) {\n      console.error('AI Image Analysis Error:', error);\n      return 'AI analysis temporarily unavailable';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  // Text summarization using free model\n  async summarizeText(text, maxLength = 100) {\n    try {\n      var _data$2;\n      if (text.length < maxLength) return text;\n      if (!this.API_TOKEN) {\n        return text; // Return original text if no token\n      }\n      const response = await fetch(`${this.HF_API_URL}/facebook/bart-large-cnn`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.API_TOKEN}`\n        },\n        body: JSON.stringify({\n          inputs: text,\n          parameters: {\n            max_length: maxLength,\n            min_length: 20\n          }\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n      return ((_data$2 = data[0]) === null || _data$2 === void 0 ? void 0 : _data$2.summary_text) || text;\n    } catch (error) {\n      console.error('AI Summarization Error:', error);\n      return text;\n    }\n  }\n\n  // Sentiment analysis for text\n  async analyzeSentiment(text) {\n    try {\n      if (!this.API_TOKEN) {\n        return {\n          label: 'NEUTRAL',\n          score: 0.5\n        }; // Return neutral if no token\n      }\n      const response = await fetch(`${this.HF_API_URL}/cardiffnlp/twitter-roberta-base-sentiment-latest`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.API_TOKEN}`\n        },\n        body: JSON.stringify({\n          inputs: text\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      const data = await response.json();\n      return data[0] || {\n        label: 'NEUTRAL',\n        score: 0.5\n      };\n    } catch (error) {\n      console.error('AI Sentiment Analysis Error:', error);\n      return {\n        label: 'NEUTRAL',\n        score: 0.5\n      };\n    }\n  }\n\n  // Local browser-based text analysis (no API needed)\n  analyzeTextComplexity(text) {\n    const words = text.split(/\\s+/).length;\n    const sentences = text.split(/[.!?]+/).length;\n    const avgWordsPerSentence = words / sentences;\n    let complexity = 'Simple';\n    if (avgWordsPerSentence > 15) complexity = 'Moderate';\n    if (avgWordsPerSentence > 25) complexity = 'Complex';\n    return {\n      wordCount: words,\n      sentenceCount: sentences,\n      avgWordsPerSentence: Math.round(avgWordsPerSentence),\n      complexity\n    };\n  }\n\n  // Generate astronomy-related suggestions\n  generateAstronomyTips(topic) {\n    const tips = {\n      nebula: [\"🔭 Try viewing nebulae with different filters to see various elements\", \"🌟 Nebulae are stellar nurseries where new stars are born\", \"📊 The colors in nebulae indicate different chemical elements\"],\n      galaxy: [\"🌌 Our Milky Way contains over 100 billion stars\", \"🔄 Galaxies rotate, with spiral arms moving like waves\", \"🎯 Look for the galaxy's central black hole in deep images\"],\n      planet: [\"🪐 Each planet has unique atmospheric conditions\", \"🌡️ Temperature varies greatly across planetary surfaces\", \"🔍 Study surface features to understand geological history\"],\n      mars: [\"🚀 Mars has the largest volcano in the solar system\", \"❄️ Mars has polar ice caps made of water and dry ice\", \"🌪️ Dust storms on Mars can last for months\"],\n      default: [\"⭐ Use dark sky locations for better astronomical viewing\", \"📱 Try astronomy apps to identify objects in the night sky\", \"🌙 The best viewing is often just after sunset or before sunrise\"]\n    };\n    const key = Object.keys(tips).find(k => topic.toLowerCase().includes(k)) || 'default';\n    return tips[key];\n  }\n\n  // Check if AI services are available\n  isAvailable() {\n    return !!this.API_TOKEN;\n  }\n}\n\n// Create a single instance and export it\nconst aiService = new AIService();\nexport default aiService;","map":{"version":3,"names":["AIService","constructor","HF_API_URL","API_TOKEN","process","env","REACT_APP_HF_API_TOKEN","isLoading","analyzeImage","imageUrl","_data$","console","warn","response","fetch","blob","result","method","body","headers","ok","Error","status","statusText","data","json","generated_text","error","summarizeText","text","maxLength","_data$2","length","JSON","stringify","inputs","parameters","max_length","min_length","summary_text","analyzeSentiment","label","score","analyzeTextComplexity","words","split","sentences","avgWordsPerSentence","complexity","wordCount","sentenceCount","Math","round","generateAstronomyTips","topic","tips","nebula","galaxy","planet","mars","default","key","Object","keys","find","k","toLowerCase","includes","isAvailable","aiService"],"sources":["/Users/aishikasaha/Documents/nasa-react-express-app/frontend/src/services/aiService.js"],"sourcesContent":["// Using Hugging Face's inference API\nclass AIService {\n  constructor() {\n    this.HF_API_URL = 'https://api-inference.huggingface.co/models';\n    this.API_TOKEN = process.env.REACT_APP_HF_API_TOKEN;\n    this.isLoading = false;\n  }\n\n  // Image captioning using BLIP model\n  async analyzeImage(imageUrl) {\n    try {\n      this.isLoading = true;\n      \n      // Check if token exists\n      if (!this.API_TOKEN) {\n        console.warn('No Hugging Face API token found');\n        return 'AI analysis requires API token - please add REACT_APP_HF_API_TOKEN to your .env file';\n      }\n      \n      // Convert image URL to blob\n      const response = await fetch(imageUrl);\n      const blob = await response.blob();\n      \n      // Send to Hugging Face API\n      const result = await fetch(`${this.HF_API_URL}/Salesforce/blip-image-captioning-large`, {\n        method: 'POST',\n        body: blob,\n        headers: {\n          'Content-Type': 'application/octet-stream',\n          'Authorization': `Bearer ${this.API_TOKEN}`\n        }\n      });\n      \n      if (!result.ok) {\n        throw new Error(`HTTP ${result.status}: ${result.statusText}`);\n      }\n      \n      const data = await result.json();\n      return data[0]?.generated_text || 'Unable to analyze image';\n    } catch (error) {\n      console.error('AI Image Analysis Error:', error);\n      return 'AI analysis temporarily unavailable';\n    } finally {\n      this.isLoading = false;\n    }\n  }\n\n  // Text summarization using free model\n  async summarizeText(text, maxLength = 100) {\n    try {\n      if (text.length < maxLength) return text;\n      \n      if (!this.API_TOKEN) {\n        return text; // Return original text if no token\n      }\n      \n      const response = await fetch(`${this.HF_API_URL}/facebook/bart-large-cnn`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.API_TOKEN}`\n        },\n        body: JSON.stringify({\n          inputs: text,\n          parameters: {\n            max_length: maxLength,\n            min_length: 20\n          }\n        })\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      return data[0]?.summary_text || text;\n    } catch (error) {\n      console.error('AI Summarization Error:', error);\n      return text;\n    }\n  }\n\n  // Sentiment analysis for text\n  async analyzeSentiment(text) {\n    try {\n      if (!this.API_TOKEN) {\n        return { label: 'NEUTRAL', score: 0.5 }; // Return neutral if no token\n      }\n      \n      const response = await fetch(`${this.HF_API_URL}/cardiffnlp/twitter-roberta-base-sentiment-latest`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${this.API_TOKEN}`\n        },\n        body: JSON.stringify({ inputs: text })\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n      }\n      \n      const data = await response.json();\n      return data[0] || { label: 'NEUTRAL', score: 0.5 };\n    } catch (error) {\n      console.error('AI Sentiment Analysis Error:', error);\n      return { label: 'NEUTRAL', score: 0.5 };\n    }\n  }\n\n  // Local browser-based text analysis (no API needed)\n  analyzeTextComplexity(text) {\n    const words = text.split(/\\s+/).length;\n    const sentences = text.split(/[.!?]+/).length;\n    const avgWordsPerSentence = words / sentences;\n    \n    let complexity = 'Simple';\n    if (avgWordsPerSentence > 15) complexity = 'Moderate';\n    if (avgWordsPerSentence > 25) complexity = 'Complex';\n    \n    return {\n      wordCount: words,\n      sentenceCount: sentences,\n      avgWordsPerSentence: Math.round(avgWordsPerSentence),\n      complexity\n    };\n  }\n\n  // Generate astronomy-related suggestions\n  generateAstronomyTips(topic) {\n    const tips = {\n      nebula: [\n        \"🔭 Try viewing nebulae with different filters to see various elements\",\n        \"🌟 Nebulae are stellar nurseries where new stars are born\",\n        \"📊 The colors in nebulae indicate different chemical elements\"\n      ],\n      galaxy: [\n        \"🌌 Our Milky Way contains over 100 billion stars\",\n        \"🔄 Galaxies rotate, with spiral arms moving like waves\",\n        \"🎯 Look for the galaxy's central black hole in deep images\"\n      ],\n      planet: [\n        \"🪐 Each planet has unique atmospheric conditions\",\n        \"🌡️ Temperature varies greatly across planetary surfaces\",\n        \"🔍 Study surface features to understand geological history\"\n      ],\n      mars: [\n        \"🚀 Mars has the largest volcano in the solar system\",\n        \"❄️ Mars has polar ice caps made of water and dry ice\",\n        \"🌪️ Dust storms on Mars can last for months\"\n      ],\n      default: [\n        \"⭐ Use dark sky locations for better astronomical viewing\",\n        \"📱 Try astronomy apps to identify objects in the night sky\",\n        \"🌙 The best viewing is often just after sunset or before sunrise\"\n      ]\n    };\n    \n    const key = Object.keys(tips).find(k => topic.toLowerCase().includes(k)) || 'default';\n    return tips[key];\n  }\n\n  // Check if AI services are available\n  isAvailable() {\n    return !!this.API_TOKEN;\n  }\n}\n\n// Create a single instance and export it\nconst aiService = new AIService();\nexport default aiService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}