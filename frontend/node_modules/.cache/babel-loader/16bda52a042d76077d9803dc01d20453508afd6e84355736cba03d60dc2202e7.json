{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconsole.log('API Base URL:', API_BASE_URL);\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  // Increased timeout for NASA API\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor for logging\napi.interceptors.request.use(config => {\n  var _config$method;\n  console.log(`üöÄ Making ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} request to ${config.url}`);\n  console.log('Request config:', config);\n  return config;\n}, error => {\n  console.error('‚ùå Request error:', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor for error handling\napi.interceptors.response.use(response => {\n  console.log('‚úÖ API Response received:', response.data);\n  return response;\n}, error => {\n  var _error$response, _error$response2, _error$response3, _error$config, _error$response4, _error$response5, _error$response6, _error$response7, _error$response7$data;\n  console.error('‚ùå API Error Details:', {\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    statusText: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.statusText,\n    data: (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data,\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    message: error.message\n  });\n  if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 429) {\n    throw new Error('Rate limit exceeded. Please try again later.');\n  }\n  if (((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status) >= 500) {\n    throw new Error('Server error. Please try again later.');\n  }\n  if (((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status) === 404) {\n    throw new Error('API endpoint not found. Please check the backend server.');\n  }\n\n  // Return the actual error message from the API\n  const errorMessage = ((_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : (_error$response7$data = _error$response7.data) === null || _error$response7$data === void 0 ? void 0 : _error$response7$data.error) || error.message || 'Unknown error occurred';\n  throw new Error(errorMessage);\n});\n\n// API methods with detailed logging\nexport const nasaAPI = {\n  // APOD endpoints\n  getAPOD: async date => {\n    console.log('üì° Fetching APOD for date:', date || 'today');\n    return api.get('/apod', {\n      params: {\n        date\n      }\n    });\n  },\n  getRandomAPOD: async () => {\n    console.log('üé≤ Fetching random APOD');\n    return api.get('/apod/random');\n  },\n  // Mars rover endpoints\n  getMarsPhotos: async (rover, sol, page) => {\n    console.log('üöÄ Fetching Mars photos:', {\n      rover,\n      sol,\n      page\n    });\n    return api.get('/mars/photos', {\n      params: {\n        rover,\n        sol,\n        page\n      }\n    });\n  },\n  // Near Earth Objects\n  getNearEarthObjects: async (startDate, endDate) => {\n    console.log('‚òÑÔ∏è Fetching NEO data:', {\n      startDate,\n      endDate\n    });\n    return api.get('/neo', {\n      params: {\n        start_date: startDate,\n        end_date: endDate\n      }\n    });\n  },\n  // NASA Library search\n  searchLibrary: async (query, mediaType) => {\n    console.log('üîç Searching NASA library:', {\n      query,\n      mediaType\n    });\n    return api.get('/search', {\n      params: {\n        q: query,\n        media_type: mediaType\n      }\n    });\n  }\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","console","log","api","create","baseURL","timeout","headers","interceptors","request","use","config","_config$method","method","toUpperCase","url","error","Promise","reject","response","data","_error$response","_error$response2","_error$response3","_error$config","_error$response4","_error$response5","_error$response6","_error$response7","_error$response7$data","status","statusText","message","Error","errorMessage","nasaAPI","getAPOD","date","get","params","getRandomAPOD","getMarsPhotos","rover","sol","page","getNearEarthObjects","startDate","endDate","start_date","end_date","searchLibrary","query","mediaType","q","media_type"],"sources":["/Users/aishikasaha/Documents/nasa-react-express-app/frontend/src/services/api.js"],"sourcesContent":["\nimport axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nconsole.log('API Base URL:', API_BASE_URL);\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000, // Increased timeout for NASA API\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Request interceptor for logging\napi.interceptors.request.use(\n  (config) => {\n    console.log(`üöÄ Making ${config.method?.toUpperCase()} request to ${config.url}`);\n    console.log('Request config:', config);\n    return config;\n  },\n  (error) => {\n    console.error('‚ùå Request error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor for error handling\napi.interceptors.response.use(\n  (response) => {\n    console.log('‚úÖ API Response received:', response.data);\n    return response;\n  },\n  (error) => {\n    console.error('‚ùå API Error Details:', {\n      status: error.response?.status,\n      statusText: error.response?.statusText,\n      data: error.response?.data,\n      url: error.config?.url,\n      message: error.message\n    });\n    \n    if (error.response?.status === 429) {\n      throw new Error('Rate limit exceeded. Please try again later.');\n    }\n    \n    if (error.response?.status >= 500) {\n      throw new Error('Server error. Please try again later.');\n    }\n    \n    if (error.response?.status === 404) {\n      throw new Error('API endpoint not found. Please check the backend server.');\n    }\n    \n    // Return the actual error message from the API\n    const errorMessage = error.response?.data?.error || error.message || 'Unknown error occurred';\n    throw new Error(errorMessage);\n  }\n);\n\n// API methods with detailed logging\nexport const nasaAPI = {\n  // APOD endpoints\n  getAPOD: async (date) => {\n    console.log('üì° Fetching APOD for date:', date || 'today');\n    return api.get('/apod', { params: { date } });\n  },\n  \n  getRandomAPOD: async () => {\n    console.log('üé≤ Fetching random APOD');\n    return api.get('/apod/random');\n  },\n  \n  // Mars rover endpoints\n  getMarsPhotos: async (rover, sol, page) => {\n    console.log('üöÄ Fetching Mars photos:', { rover, sol, page });\n    return api.get('/mars/photos', { params: { rover, sol, page } });\n  },\n  \n  // Near Earth Objects\n  getNearEarthObjects: async (startDate, endDate) => {\n    console.log('‚òÑÔ∏è Fetching NEO data:', { startDate, endDate });\n    return api.get('/neo', { params: { start_date: startDate, end_date: endDate } });\n  },\n  \n  // NASA Library search\n  searchLibrary: async (query, mediaType) => {\n    console.log('üîç Searching NASA library:', { query, mediaType });\n    return api.get('/search', { params: { q: query, media_type: mediaType } });\n  }\n};\n\nexport default api;\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;AAEjFC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEL,YAAY,CAAC;AAE1C,MAAMM,GAAG,GAAGP,KAAK,CAACQ,MAAM,CAAC;EACvBC,OAAO,EAAER,YAAY;EACrBS,OAAO,EAAE,KAAK;EAAE;EAChBC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACAJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;EAAA,IAAAC,cAAA;EACVX,OAAO,CAACC,GAAG,CAAC,cAAAU,cAAA,GAAaD,MAAM,CAACE,MAAM,cAAAD,cAAA,uBAAbA,cAAA,CAAeE,WAAW,CAAC,CAAC,eAAeH,MAAM,CAACI,GAAG,EAAE,CAAC;EACjFd,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAES,MAAM,CAAC;EACtC,OAAOA,MAAM;AACf,CAAC,EACAK,KAAK,IAAK;EACTf,OAAO,CAACe,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;EACxC,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAb,GAAG,CAACK,YAAY,CAACW,QAAQ,CAACT,GAAG,CAC1BS,QAAQ,IAAK;EACZlB,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEiB,QAAQ,CAACC,IAAI,CAAC;EACtD,OAAOD,QAAQ;AACjB,CAAC,EACAH,KAAK,IAAK;EAAA,IAAAK,eAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,aAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,gBAAA,EAAAC,qBAAA;EACT5B,OAAO,CAACe,KAAK,CAAC,sBAAsB,EAAE;IACpCc,MAAM,GAAAT,eAAA,GAAEL,KAAK,CAACG,QAAQ,cAAAE,eAAA,uBAAdA,eAAA,CAAgBS,MAAM;IAC9BC,UAAU,GAAAT,gBAAA,GAAEN,KAAK,CAACG,QAAQ,cAAAG,gBAAA,uBAAdA,gBAAA,CAAgBS,UAAU;IACtCX,IAAI,GAAAG,gBAAA,GAAEP,KAAK,CAACG,QAAQ,cAAAI,gBAAA,uBAAdA,gBAAA,CAAgBH,IAAI;IAC1BL,GAAG,GAAAS,aAAA,GAAER,KAAK,CAACL,MAAM,cAAAa,aAAA,uBAAZA,aAAA,CAAcT,GAAG;IACtBiB,OAAO,EAAEhB,KAAK,CAACgB;EACjB,CAAC,CAAC;EAEF,IAAI,EAAAP,gBAAA,GAAAT,KAAK,CAACG,QAAQ,cAAAM,gBAAA,uBAAdA,gBAAA,CAAgBK,MAAM,MAAK,GAAG,EAAE;IAClC,MAAM,IAAIG,KAAK,CAAC,8CAA8C,CAAC;EACjE;EAEA,IAAI,EAAAP,gBAAA,GAAAV,KAAK,CAACG,QAAQ,cAAAO,gBAAA,uBAAdA,gBAAA,CAAgBI,MAAM,KAAI,GAAG,EAAE;IACjC,MAAM,IAAIG,KAAK,CAAC,uCAAuC,CAAC;EAC1D;EAEA,IAAI,EAAAN,gBAAA,GAAAX,KAAK,CAACG,QAAQ,cAAAQ,gBAAA,uBAAdA,gBAAA,CAAgBG,MAAM,MAAK,GAAG,EAAE;IAClC,MAAM,IAAIG,KAAK,CAAC,0DAA0D,CAAC;EAC7E;;EAEA;EACA,MAAMC,YAAY,GAAG,EAAAN,gBAAA,GAAAZ,KAAK,CAACG,QAAQ,cAAAS,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBR,IAAI,cAAAS,qBAAA,uBAApBA,qBAAA,CAAsBb,KAAK,KAAIA,KAAK,CAACgB,OAAO,IAAI,wBAAwB;EAC7F,MAAM,IAAIC,KAAK,CAACC,YAAY,CAAC;AAC/B,CACF,CAAC;;AAED;AACA,OAAO,MAAMC,OAAO,GAAG;EACrB;EACAC,OAAO,EAAE,MAAOC,IAAI,IAAK;IACvBpC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEmC,IAAI,IAAI,OAAO,CAAC;IAC1D,OAAOlC,GAAG,CAACmC,GAAG,CAAC,OAAO,EAAE;MAAEC,MAAM,EAAE;QAAEF;MAAK;IAAE,CAAC,CAAC;EAC/C,CAAC;EAEDG,aAAa,EAAE,MAAAA,CAAA,KAAY;IACzBvC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;IACtC,OAAOC,GAAG,CAACmC,GAAG,CAAC,cAAc,CAAC;EAChC,CAAC;EAED;EACAG,aAAa,EAAE,MAAAA,CAAOC,KAAK,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACzC3C,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAE;MAAEwC,KAAK;MAAEC,GAAG;MAAEC;IAAK,CAAC,CAAC;IAC7D,OAAOzC,GAAG,CAACmC,GAAG,CAAC,cAAc,EAAE;MAAEC,MAAM,EAAE;QAAEG,KAAK;QAAEC,GAAG;QAAEC;MAAK;IAAE,CAAC,CAAC;EAClE,CAAC;EAED;EACAC,mBAAmB,EAAE,MAAAA,CAAOC,SAAS,EAAEC,OAAO,KAAK;IACjD9C,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAE;MAAE4C,SAAS;MAAEC;IAAQ,CAAC,CAAC;IAC5D,OAAO5C,GAAG,CAACmC,GAAG,CAAC,MAAM,EAAE;MAAEC,MAAM,EAAE;QAAES,UAAU,EAAEF,SAAS;QAAEG,QAAQ,EAAEF;MAAQ;IAAE,CAAC,CAAC;EAClF,CAAC;EAED;EACAG,aAAa,EAAE,MAAAA,CAAOC,KAAK,EAAEC,SAAS,KAAK;IACzCnD,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE;MAAEiD,KAAK;MAAEC;IAAU,CAAC,CAAC;IAC/D,OAAOjD,GAAG,CAACmC,GAAG,CAAC,SAAS,EAAE;MAAEC,MAAM,EAAE;QAAEc,CAAC,EAAEF,KAAK;QAAEG,UAAU,EAAEF;MAAU;IAAE,CAAC,CAAC;EAC5E;AACF,CAAC;AAED,eAAejD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}